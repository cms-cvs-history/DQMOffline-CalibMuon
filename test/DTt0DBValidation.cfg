process CALIB = {
   
    include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
    include "Geometry/DTGeometry/data/dtGeometry.cfi"
    include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"


    source = EmptyIOVSource {
	string timetype = "runnumber"
        uint64 firstValue = 1
	uint64 lastValue = 100
        uint64 interval = 90
    }

    untracked PSet maxEvents = {untracked int32 input = 1}
    
   
    include "DQMServices/Core/data/DQM.cfg"
    replace DQM.collectorHost = ""


    es_source tzeroRef = PoolDBESSource {
        string connect=""
        VPSet toGet = {
            {
                untracked string connect =  "sqlite_file:/afs/cern.ch/user/g/giorgia/public/testT0Validation/GRUMMt0true.db"
                string record = "DTT0Rcd" 
                string tag = "t0_GRUMM"
                untracked string label = "tzeroRef"  
	    },
            {
                untracked string connect =  "sqlite_file:/afs/cern.ch/user/g/giorgia/public/testT0Validation/GRUMMt0fake2.db"
                string record = "DTT0Rcd" 
                string tag = "t0"
                untracked string label = "tzeroToValidate"
            }
        }
        PSet DBParameters = { 
        untracked string authenticationPath ="/afs/cern.ch/cms/DB/conddb"
        untracked int32 messageLevel = 0 }
     }


    service = MessageLogger {
        untracked vstring destinations = { "cout" }
        untracked vstring debugModules = { "dtT0Analyzer" }
        untracked vstring categories = { "t0dbValidation" }
        untracked PSet cout = {
            untracked string threshold = "DEBUG"
            untracked PSet default = { untracked int32 limit = 0 }
            untracked PSet FwkJob  = { untracked int32 limit = 0 }
            untracked bool noLineBreaks = true
            untracked PSet DEBUG = {untracked int32 limit = 0 }
            untracked PSet t0dbValidation = {untracked int32 limit = 10000000}
        }
    }



  
    #Module to produce t0 histograms and save them into a root file
    module dtT0Analyzer = DTt0DBValidation {
	untracked string labelDBRef = "tzeroRef"
        untracked string labelDB = "tzeroToValidate"
	untracked string t0TestName = "t0DifferenceInRange"
        untracked string OutputFileName="MuonTestMonitoring.root"
    }	



    module qTester = QualityTester{
     untracked int32 prescaleFactor = 1
     untracked FileInPath qtList = "DQMOffline/CalibMuon/data/QualityTests.xml" 
   } 



     path p = { dtT0Analyzer, qTester }

}
