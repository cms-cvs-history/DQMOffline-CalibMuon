process CALIB = {
   
    include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
    include "Geometry/DTGeometry/data/dtGeometry.cfi"
    include "Geometry/MuonNumbering/data/muonNumberingInitialization.cfi"


    source = EmptyIOVSource {
	string timetype = "runnumber"
        untracked uint32 firstRun = 1
	untracked uint32 lastRun = 100
        uint32 interval = 90
    }

    untracked PSet maxEvents = {untracked int32 input = 1}
    
   
    include "DQMServices/Core/data/DQM.cfg"
    replace DQM.collectorHost = ""


    es_source tzeroRef = PoolDBESSource {
        string appendToDataLabel = "tzeroRef"  
        VPSet toGet = {{
                string record = "DTT0RefRcd" 
                string tag = "t0_GRUMM"
	    }}
        string timetype = "runnumber"
	untracked string BlobStreamerName="TBufferBlobStreamingService"	   
 	PSet DBParameters ={
	    untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
	}
	string connect =  "sqlite_file:/afs/cern.ch/user/m/maselli/public/forGiorgia/t0/GRUMMt0true.db"
    }


    es_source tzeroToValidate = PoolDBESSource {  
        string appendToDataLabel = "tzeroToValidate"
        VPSet toGet = {{
                string record = "DTT0Rcd" 
                string tag = "t0_GRUMM"
	    }}
        string timetype = "runnumber"
	untracked string BlobStreamerName="TBufferBlobStreamingService"	   
 	PSet DBParameters ={
	    untracked string authenticationPath="/afs/cern.ch/cms/DB/conddb"
	}
	string connect =  "sqlite_file:/afs/cern.ch/user/m/maselli/public/forGiorgia/t0/GRUMMt0fake.db"
    }


    service = MessageLogger {
        untracked vstring destinations = { "cout" }
        untracked vstring debugModules = { "dtT0Analyzer" }
        untracked vstring categories = { "t0dbValidation" }
        untracked PSet cout = {
            untracked string threshold = "DEBUG"
            untracked PSet default = { untracked int32 limit = 0 }
            untracked PSet FwkJob  = { untracked int32 limit = 0 }
            untracked bool noLineBreaks = true
            untracked PSet DEBUG = {untracked int32 limit = 0 }
            untracked PSet t0dbValidation = {untracked int32 limit = 10000000}
        }
    }



  
    #Module to produce t0 histograms and save them into a root file
    module dtT0Analyzer = DTt0DBValidation {
	untracked string labelDBRef = "tzeroRef"
        untracked string labelDB = "tzeroToValidate"
        untracked string OutputFileName="MuonTestMonitoring.root"
    }	



     path p = {dtT0Analyzer}

}
